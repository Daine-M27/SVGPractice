var makerjs = require('makerjs');
//var l = require('legend')
const legendPath = "m 901.96019,974.61328 c -37.837,0 -75.67403,0 -113.51104,0 m 0,65.80172 c 0,-21.9339 0,-43.86782 0,-65.80172 m 233.02875,-34.55366 c 46.3299,0 92.6598,0 138.9897,0 m -138.9897,79.84828 c 46.3299,0 92.6598,0 138.9897,0 M 901.96019,962.32362 c 39.83924,0 79.67848,0 119.51771,0 m 508.3683,57.58428 c 0,6.8357 0,13.6715 0,20.5071 m 20.5844,-73.34216 c 0,17.6117 0,35.22336 0,52.83506 m -145.8407,0 c 0,6.8357 0,13.6715 0,20.5071 m -204.8285,-73.34216 c 0,17.6117 0,35.22336 0,52.83506 m -39.2938,-79.84828 c 149.1614,0 298.3228,0 447.4843,0 m -447.4843,27.01322 c 149.1614,0 298.3228,0 447.4843,0 m -447.4843,52.83506 c 149.1614,0 298.3228,0 447.4843,0 m -510.2643,-19.5177 c 0,13.3416 0,26.6832 0,40.0248 m 62.78,-100.35538 c 0,33.45177 0,66.90358 0,100.35538 M 589.35805,15.585017 c 0,11.556082 0,23.112173 0,34.668217 M 1021.4779,1040.415 c 0,-33.4518 0,-66.90361 0,-100.35538 M 589.35805,15.585017 c 0,11.556082 0,23.112173 0,34.668217 m 0,0 c 0,-11.556049 0,-23.112135 0,-34.668217 M 24.048131,50.253234 c 188.436689,0 376.873269,0 565.309919,0 M 901.96019,962.32362 c 0,4.09658 0,8.1931 0,12.28966 m 119.51771,-34.55366 -0.094,-0.33972 m 0.094,60.6702 c 46.3299,0 92.6598,0 138.9897,0 m 0,0 c -46.3299,0 -92.6598,0 -138.9897,0 m 362.7372,-60.33065 c 0,9.00443 0,18.00882 0,27.01323 m 97.7054,52.83512 c 0,6.8357 0,13.6714 0,20.507 M 788.44915,985.20527 c 37.83701,0 75.67404,0 113.51104,0 m 119.51771,-3.61397 c -39.83923,0 -79.67847,0 -119.51771,0 m 0,0 c 39.83924,0 79.67848,0 119.51771,0 m -119.51771,58.8237 c 0,-21.9339 0,-43.86782 0,-65.80172 m 0,0 c 0,21.9339 0,43.86782 0,65.80172 m 705.99171,0 c 0,-341.61005 0,-683.22003 0,-1024.829983 m 0,1024.829983 c -527.9678,0 -1055.93589,0 -1583.903769,0 m 0,-1024.829983 c 0,341.609953 0,683.219933 0,1024.829983 m 0,-1024.829983 c 527.967879,0 1055.935969,0 1583.903769,0"

function outlets() {
    var pathData = "m 92.2497 29.4994 l -0.0081 -0.0096 l -0.0061 -0.0085 m -1.09927 0.833177 h 0.263857 m -0.725894 -1.31163 l 0.08239 0.08241 m 0.725867 1.31218 l -0.08237 -0.08295 m 0.000007 -0.000004 v -0.18153 m 0.08236 -0.08241 l -0.08237 0.08241 m 0.000007 0.000004 h -0.709181 m -0.08239 -0.08241 l 0.08239 0.08241 m -0.08239 0.264488 l 0.08239 -0.08295 m 0.06568 -1.04769 h 0.577797 m -0.660188 0.08241 l 0.08239 -0.08241 m 0.577798 -0.000004 l 0.08239 0.08241 m -0.08239 -0.08241 v -0.18153 m 0.08239 -0.08241 l -0.0824 0.08241 m -0.379608 1.22922 v 0.429311 m 0 -0.429311 l -0.08239 0.08295 m 0.08239 0.346361 h 0.181466 m -0.263857 0.08241 l 0.08239 -0.08241 m 0.263829 0.08241 l -0.08237 -0.08241 m 0.000008 -0.000003 v -0.429311 m 0.08236 0.08295 l -0.08237 -0.08295 m -0.748574 0.672708 a 0.0412413 0.0412547 0 0 0 0.04124 0.04126 m 2.14454 -0.00001 a 0.0412413 0.0412547 0 0 0 0.04124 -0.04126 m -2.18578 -2.1865 a 0.0412413 0.0412547 0 0 0 -0.04127 0.04126 m 2.22705 -0.000004 a 0.0412413 0.0412547 0 0 0 -0.04124 -0.04126 m 0 2.22753 v -0.04094 m -2.14477 0.04094 h 2.14477 m -2.14477 -0.04094 v 0.04094 m 0 -2.18641 h -0.04092 m -0.000002 2.14547 h 0.04092 m -0.04092 -2.14547 v 2.14547 m 2.18569 -2.14547 v -0.04094 m -2.14477 0.000004 v 0.04094 m 2.14477 -0.04094 h -2.14477 m 2.18624 0.04094 h -0.04147 m 0.04147 2.14547 v -2.14547 m -0.04147 2.14547 h 0.04147 m -0.5838 -1.50588 a 0.218581 0.218652 0 0 0 0 0.437302 m 0.218712 -0.437512 h -0.218626 m 0 -0.08242 v 0.08241 m 0 0.519811 v -0.08241 m 0 -0.000006 h 0.218626 m -1.82115 -1.07678 h 2.14477 m 0 0 v 2.14547 m 0 0 h -2.14477 m 0 0 v -2.14547 m 0.245536 0.16106 v 0.346357 m 0 0 h 0.742579 m 0 0 v -0.346357 m 0 0 h -0.742579 m -0.06568 1.04769 v 0.346898 m 0 0 h 0.263857 m 0 0 v 0.42877 m 0 0 h 0.346219 m 0 0 v -0.42877 m 0 0 h 0.263858 m 0 0 V 30.0505 m 0 0 h -0.873934 m 1.42267 -0.04955 h 0.300989 m 0 -0.602221 h -0.300989 m -0.000086 0.000114 a 0.301063 0.301161 0 0 0 0 0.602323 m 0.218712 -0.08263 V 29.4812 m 0 0 l 0.08237 -0.08241 m -0.000007 0.602215 v -0.602221 m 0 0.602221 l -0.08237 -0.08241 m -1.5589 0.214379 v 0.18153 m 0 0 h 0.263858 m -0.19818 -1.22922 v 0.18153 m 0.577797 -0.18153 h -0.577797 m 4.93839 0.78501 a 0.0494898 0.0495059 0 0 0 0 0.08858 m 0.248925 -0.04429 a 0.907318 0.907613 0 1 0 -1.81464 0 a 0.907318 0.907613 0 1 0 1.81464 0 Z m -0.24746 0 a 0.659864 0.660079 0 1 0 -1.31972 0 a 0.659864 0.660079 0 1 0 1.31972 0 Z m -0.235885 0 a 0.098157 0.098189 0 1 0 -0.196314 0 a 0.098157 0.098189 0 1 0 0.196314 0 Z M 95.1347 29.5804 a 0.0981548 0.0981868 0 1 0 -0.196285 0 a 0.0981548 0.0981868 0 1 0 0.196285 0 Z m 0 0.668329 a 0.0981548 0.0981868 0 1 0 -0.196285 0 a 0.0981548 0.0981868 0 1 0 0.196285 0 Z m 1.98645 -1.12007 a 0.523767 0.523938 0 0 0 -0.52378 -0.523936 m 0.000115 0.000058 h -6.78812 m 0 -0.000058 a 0.523767 0.523938 0 0 0 -0.52378 0.523936 m 0 1.57181 a 0.523767 0.523938 0 0 0 0.52378 0.523935 m 0 -0.000132 h 6.78812 m -0.000115 0.000132 a 0.523767 0.523938 0 0 0 0.52378 -0.523935 m -7.64887 0.000227 v -1.5718 m 0 0 h -0.06086 m 0.000007 1.5718 h 0.06086 m 7.46228 -1.5718 v 1.5718 m 0.06085 -1.5718 h -0.06086 m 0.000006 1.5718 h 0.06086 m -7.70999 -1.5718 h 0.125984 m 0 0.261786 h -0.125984 m 0 0.130895 h 0.125984 m 7.70947 0 h -0.125467 m 0 -0.392681 h 0.125467 m 0 0.261786 h -0.125467 m 0.125467 0.130895 h 0.06085 m 0.000002 0.7859 h -0.06085 m -0.000002 -1.17858 v 0.261786 m 0 0 v 0.130895 m 0.765179 0.524113 v -0.262327 m -0.00023 0.000216 a 0.261883 0.261969 0 0 0 -0.261875 -0.26197 m -0.000144 -0.000032 H 97.1818 m 0 0.7859 v -0.7859 m 0.442222 0.785937 a 0.261883 0.261969 0 0 0 0.261875 -0.261964 M 97.1818 30.3075 h 0.442078 m -8.39923 -0.7859 h -0.441561 m -0.000259 0.000032 a 0.261883 0.261969 0 0 0 -0.261875 0.26197 m -0.000115 -0.000216 v 0.262327 m 0.000115 -0.00014 a 0.261883 0.261969 0 0 0 0.261875 0.261964 m 0.628657 0.393184 h -0.125984 m 0.125984 -1.5718 v 0.261786 m 0 0.130895 v -0.130895 m 0 1.04769 v 0.262326 M 88.783 30.3075 h 0.441561 m 0.186837 -0.7859 v 0.7859 m -0.186837 -0.7859 h 0.06086 m -0.06086 0 v 0.7859 m 0.06085 0 h -0.06086 m 7.89631 0.130895 v 0.262326 m 0 0 h -0.125467 m -7.70998 -0.262326 h 0.125984 m 0 0 V 30.3075 m -0.125984 0 h 0.125984 m -0.125984 -0.7859 v -0.130895 m 0 0 v -0.261786 m 0 1.5718 v -0.262326 m 0 0 V 30.3075 m 7.70998 0.393221 v -0.262326 m 0 -0.130895 v -0.7859 m 0 -0.130895 v 0.130895 m 0 -0.130895 v -0.261786 m 0 1.17858 v 0.130895 m 0 0 h 0.125467 m 0 -0.130895 v 0.130895 m 0 -0.130895 h -0.125467 m -8.07705 -0.289043 c 0.0037 0.02268 0.008 0.04525 0.012 0.06779 m -0.22494 -0.193458 a 0.178214 0.178272 0 0 0 0.0054 0.06991 m 0.279535 -0.02801 c -0.0088 0.0037 -0.01766 0.0072 -0.02697 0.01104 c -0.0093 0.0037 -0.01886 0.0079 -0.0299 0.01293 m 0.000038 -0.000012 c -0.0033 0.01153 -0.0059 0.02165 -0.0083 0.03145 c -0.0026 0.0098 -0.0048 0.01918 -0.0069 0.02839 m -0.000164 -0.000242 l 0.0086 0.0011 m 0.007 -0.06089 l 0.01022 0.0091 m -0.03994 -0.229895 c -0.000574 0.02289 -0.0011 0.04584 -0.0017 0.06882 m 0.02396 0.05686 c 0.01155 0.0033 0.02165 0.0058 0.03142 0.0083 c 0.0098 0.0027 0.01915 0.0048 0.02837 0.0069 m -0.08374 -0.07206 c 0.0037 0.0088 0.0072 0.01767 0.01105 0.02699 c 0.0037 0.0093 0.0079 0.01885 0.01293 0.0299 m -0.000086 -0.000256 l 0.0091 -0.01023 m -0.03279 -0.04633 l 0.0081 -0.0021 m -0.132218 0.146234 c -0.02268 0.0037 -0.04523 0.008 -0.06777 0.01201 m 0.000168 0.000066 l -0.0048 0.0016 m 0.124984 -0.09384 c 0.0033 -0.01153 0.0059 -0.02165 0.0083 -0.0314 c 0.0026 -0.0098 0.0048 -0.01918 0.0069 -0.02839 m 0.139874 0.06776 c 0.02268 -0.0037 0.04523 -0.008 0.06777 -0.01201 m -0.06785 0.01225 l 0.0011 -0.0086 m -0.212921 0.02435 c 0.0088 -0.0037 0.01766 -0.0072 0.02699 -0.01104 c 0.0093 -0.0037 0.01883 -0.0079 0.02987 -0.01293 m -0.000114 0.000135 l -0.01025 -0.0091 m -0.115274 0.03124 c 0.02286 0.000548 0.0458 0.0011 0.06878 0.0016 m 0.000199 -0.000038 l -0.0026 -0.0081 m -0.06632 0.0065 l -0.0048 -0.0011 m 0.358486 0.04475 a 0.178214 0.178272 0 0 0 -0.0054 -0.06991 m 0.000116 -0.000136 l 0.0043 -0.0016 m 0.000984 0.07165 c -0.02289 -0.000536 -0.04578 -0.0011 -0.06881 -0.0016 m -0.000026 -0.000038 l 0.0021 0.0081 m 0.06682 -0.0065 l 0.0043 0.0011 m -0.203055 0.154056 c 0.000573 -0.0229 0.0011 -0.04584 0.0017 -0.06883 m -0.0017 0.06883 a 0.178214 0.178272 0 0 0 0.06987 -0.0054 m -0.06981 0.0054 l -0.0011 0.0048 m 0.07111 -0.01018 l 0.0017 0.0043 m -0.09403 -0.124572 c -0.01152 -0.0033 -0.02165 -0.0058 -0.03139 -0.0083 c -0.0098 -0.0027 -0.01918 -0.0048 -0.02841 -0.0069 m 0.000269 0.000267 l -0.0011 0.0081 m 0.08458 0.06369 c -0.0037 -0.0088 -0.0072 -0.01767 -0.01103 -0.02699 c -0.0038 -0.0093 -0.0079 -0.01891 -0.01293 -0.0299 m 0.000238 0.000184 l -0.0091 0.01023 m 0.03279 0.04633 l -0.0081 0.0027 m -0.148038 -0.06087 l 0.07159 -0.0054 m -0.07684 -0.0674 a 0.182969 0.183029 0 0 0 0.0055 0.073 m 0.06543 -0.07831 l -0.07107 0.0054 m 0.120062 -0.03018 l -0.04899 0.02478 m 0.06622 -0.07649 l -0.01723 0.05171 m 0.08994 -0.0571 l -0.0054 -0.07164 m 0.03015 0.120122 l -0.02475 -0.04848 m 0.07647 0.06572 l -0.05172 -0.01724 m 0.122796 0.01185 l -0.07107 0.0054 m 0.07667 0.06747 a 0.182969 0.183029 0 0 0 -0.0055 -0.07301 m -0.06581 0.07825 l 0.07108 -0.0054 m -0.119555 0.03018 l 0.04847 -0.02478 m -0.0657 0.07649 l 0.01723 -0.05171 m -0.01183 0.122812 l -0.0054 -0.0711 m -0.06749 0.07684 a 0.182969 0.183029 0 0 0 0.07297 -0.0055 m -0.07817 -0.06542 l 0.0054 0.0711 m -0.03018 -0.120118 l 0.02478 0.04902 m -0.07647 -0.06626 l 0.0517 0.01724 m 0.32743 -0.06164 a 0.274454 0.274543 0 1 0 -0.548908 0 a 0.274454 0.274543 0 1 0 0.548908 0 Z m -0.310553 -0.103872 c -0.0037 -0.02267 -0.008 -0.04525 -0.012 -0.06779 m -0.0016 -0.0042 l 0.0054 0.0711 m 0.0081 0.0011 l -0.0081 -0.0011 m 0.06614 -0.0721 a 0.178214 0.178272 0 0 0 -0.06987 0.0054 m 0.06998 -0.0055 l 0.0011 -0.0048 m -0.000008 0.000211 a 0.182969 0.183029 0 0 0 -0.07297 0.0055 m 0.0019 0.0045 l -0.0017 -0.0043 m 8.51724 0.140843 a 0.178214 0.178272 0 0 0 0 0.07011 m 0.000028 0.000186 l -0.0043 0.0016 m 0.07277 -0.0087 c -0.02289 0.0021 -0.04572 0.0048 -0.06849 0.0069 m 0.209782 -0.209866 a 0.178214 0.178272 0 0 0 -0.0701 0 m -0.01272 0.222584 c -0.01126 -0.0043 -0.02111 -0.0075 -0.0307 -0.01062 c -0.0096 -0.0033 -0.01878 -0.0062 -0.02777 -0.009 m -0.000108 0.00006 l -0.0018 0.0086 m 0.0799 0.06943 c -0.0026 -0.009 -0.0059 -0.01815 -0.0089 -0.02774 c -0.0033 -0.0095 -0.0065 -0.01939 -0.01068 -0.03075 m 0.000212 -0.000163 l -0.0097 0.0097 m 0.232038 -0.02228 c -0.02278 -0.0021 -0.0456 -0.0048 -0.06846 -0.0069 m 0 0.000021 c -0.0089 0.0027 -0.01815 0.0058 -0.02774 0.009 c -0.0095 0.0033 -0.01944 0.0065 -0.03075 0.01066 m 0.05861 -0.0196 l 0.0018 0.0086 m -0.06033 0.01093 c -0.0043 0.01126 -0.0074 0.02112 -0.0106 0.0307 c -0.0033 0.0096 -0.0062 0.0188 -0.0089 0.0278 m 0.0195 -0.05866 l 0.0097 0.0097 m -0.08555 -0.163624 c -0.0021 -0.0229 -0.0043 -0.04567 -0.0069 -0.0685 m -0.000212 -0.000038 l -0.0018 -0.0043 m 0.08475 0.131343 c 0.01126 0.0043 0.02111 0.0075 0.0307 0.01062 c 0.0096 0.0033 0.01878 0.0062 0.0278 0.0089 m -0.07808 0.134481 c 0.0023 0.0229 0.0048 0.04568 0.0069 0.0685 m -0.0068 -0.06844 l 0.0081 0.0016 m -0.0013 -0.282749 c -0.0023 0.02279 -0.0048 0.04562 -0.0069 0.0685 m 0.0072 -0.06854 l 0.0011 -0.0043 m -0.0083 0.07284 c 0.0026 0.009 0.0058 0.01816 0.0089 0.02774 c 0.0032 0.0096 0.0065 0.01944 0.0106 0.03075 m -0.000109 0.000087 l 0.0097 -0.0097 m -0.02909 -0.04902 l 0.0081 -0.0016 m -0.07142 0.282819 c 0.0023 -0.02279 0.0048 -0.04562 0.0069 -0.06849 m -0.000109 0.000054 l -0.0086 0.0016 m 0.0018 0.06683 a 0.178214 0.178272 0 0 0 0.0701 0 m -0.0703 -0.000032 l -0.0018 0.0043 m 0.07228 -0.0043 l 0.0011 0.0043 m -0.211159 -0.214383 l -0.0043 -0.0011 m 0.0043 0.0014 c 0.02278 0.0021 0.0456 0.0048 0.06849 0.0069 m 0.05847 -0.01964 c 0.0043 -0.01126 0.0075 -0.02111 0.0106 -0.0307 c 0.0033 -0.0096 0.0062 -0.0188 0.0089 -0.0278 m -0.000055 -0.000124 l -0.0086 -0.0016 m -0.06938 0.07985 c 0.0089 -0.0027 0.01812 -0.0058 0.02772 -0.009 c 0.0096 -0.0033 0.01944 -0.0065 0.03075 -0.01066 m 0.000162 0.000125 l -0.0097 -0.0097 m -0.04902 0.02909 l -0.0018 -0.0081 m -0.07122 -0.000211 a 0.182969 0.183029 0 0 0 0 0.07321 m 0.142411 -0.21575 v 0.07111 m 0.07346 -0.0713 a 0.182969 0.183029 0 0 0 -0.0732 0 m 0.07297 0.0713 v -0.07111 m 0.02102 0.121737 l -0.02102 -0.05063 m 0.07162 0.07164 l -0.0506 -0.02101 m 0.0506 0.09427 h 0.07107 m -0.121676 0.02048 l 0.0506 -0.02048 m -0.07162 0.0711 l 0.02103 -0.05063 m -0.02103 0.121736 v -0.0711 m -0.07297 0.07137 a 0.182969 0.183029 0 0 0 0.0732 0 m -0.07346 -0.07137 v 0.07111 m -0.02045 -0.121737 l 0.02045 0.05063 m -0.07107 -0.0711 l 0.05062 0.02047 m -0.121704 -0.02047 h 0.07107 m 0 -0.07326 h -0.07107 m 0.121704 -0.02101 l -0.05062 0.02101 m 0.07107 -0.07164 l -0.02045 0.05063 m 0.163575 0.02923 c 0.02289 -0.0021 0.04572 -0.0048 0.06846 -0.0069 m 0.0044 -0.0013 h -0.07108 m -0.0016 0.0081 l 0.0018 -0.0081 m 0.06662 0.07145 a 0.178214 0.178272 0 0 0 0 -0.07011 m 0.000028 0.0703 l 0.0043 0.0016 m 0.000212 -0.000248 a 0.182969 0.183029 0 0 0 0 -0.07322 m -0.0045 0.0013 l 0.0043 -0.0011 m 0.09552 0.03657 a 0.274455 0.274544 0 1 0 -0.548909 0 a 0.274455 0.274544 0 1 0 0.548909 0 Z M 95.9743 29.116 a 0.122518 0.122558 0 0 0 0 -0.03668 m -0.102808 -0.102837 a 0.122518 0.122558 0 0 0 -0.03667 0 m 0.000162 -0.000086 v 0.03124 m -0.01327 -0.06399 c 0.0043 0.01089 0.0088 0.02182 0.01309 0.0328 m -0.02082 0.160458 l 0.02099 0.05063 m -0.07213 -0.108271 h -0.0307 m 0.139482 0.108271 l 0.02099 -0.05063 m -0.160473 -0.02101 h 0.0307 m -0.06367 0.01319 c 0.01089 -0.0043 0.02183 -0.0088 0.0328 -0.01309 m 0.000028 -0.03669 a 0.122518 0.122558 0 0 0 0 0.03668 m 0 -0.03668 c -0.01097 -0.0043 -0.02191 -0.0088 -0.0328 -0.01309 m 0.114784 0.0707 l -0.01022 0.01023 m -0.04092 -0.03124 l 0.05115 0.02101 m -0.05115 -0.02101 l -0.0023 0.01293 m 0.07444 -0.1212 l -0.021 0.05063 m 0.021 -0.05063 l -0.01344 -0.0027 m -0.0587 0.07434 l -0.0023 -0.01293 m 0.05345 -0.0081 l -0.05115 0.02101 m 0.05115 -0.02101 l -0.01022 -0.01023 m 0.03121 0.139513 v 0.03124 m 0 -0.03124 l -0.01344 0.0027 m 0.07107 -0.131978 l -0.02099 -0.05063 m -0.000162 -0.03115 c 0.0043 -0.01099 0.0088 -0.02192 0.01309 -0.03281 m -0.01295 0.06396 v -0.03124 m 0 0.03124 l 0.01293 -0.0027 m -0.04974 0.213899 a 0.122518 0.122558 0 0 0 0.03667 0 m -0.03667 0 c -0.0043 0.01099 -0.0088 0.02192 -0.01309 0.0328 m 0.04991 -0.06409 l 0.01293 0.0027 m -0.01293 0.02855 v -0.03124 m 0.01295 0.06411 c -0.0043 -0.01088 -0.0088 -0.02182 -0.01309 -0.0328 m 0.02114 -0.160582 l 0.0097 -0.01023 m 0.04092 0.03124 l -0.0506 -0.02101 m 0.0506 0.02101 l 0.0026 -0.01293 m 0.02867 0.01293 h -0.03125 m 0.06387 -0.01306 c -0.01086 0.0043 -0.0218 0.0088 -0.03277 0.01309 m -0.0817 0.0576 l 0.0506 -0.02101 m -0.0506 0.02101 l 0.0097 0.01023 m -0.08075 -0.203614 v 0.06141 m 0.06304 -0.0613 a 0.15713 0.157181 0 0 0 -0.06286 0 m 0.06283 0.0613 v -0.06141 m 0.01774 0.104501 l -0.01774 -0.04309 m 0.06137 0.06141 l -0.04363 -0.01831 m 0.105021 0.01831 h -0.0614 m 0.06117 0.06275 a 0.15713 0.157181 0 0 0 0 -0.06287 m -0.104791 0.08093 l 0.04362 -0.01831 m -0.06137 0.06141 l 0.01774 -0.04309 m -0.01774 0.104501 v -0.06141 m -0.06283 0.06142 a 0.15713 0.157181 0 0 0 0.06286 0 m -0.06304 -0.06142 v 0.06141 m -0.01777 -0.104501 l 0.01777 0.04309 m -0.06085 -0.06141 l 0.04308 0.01831 m -0.104475 -0.01831 h 0.0614 m -0.06152 -0.06262 a 0.15713 0.157181 0 0 0 0 0.06287 m 0.06152 -0.06275 h -0.0614 m 0.104475 -0.01831 l -0.04308 0.01831 m 0.06085 -0.06141 l -0.01777 0.04309 m 0.142152 0.0808 h 0.0614 m -0.033 -0.01283 c 0.01097 0.0043 0.02191 0.0088 0.0328 0.01309 m -0.06387 -0.01318 h 0.03125 m -0.03125 0 l 0.0026 0.01293 m 0.143044 -0.03117 a 0.2357 0.235776 0 1 0 -0.471399 0 a 0.2357 0.235776 0 1 0 0.471399 0 Z M 94.2494 30.8504 a 0.122518 0.122558 0 0 0 0.03389 -0.01401 m 0.05571 -0.134357 a 0.122518 0.122558 0 0 0 -0.01402 -0.03389 m 0.000162 0.000224 l -0.02909 0.01185 m 0.05422 -0.03675 c -0.0084 0.0082 -0.0168 0.01643 -0.0253 0.02467 m -0.156539 0.04171 l -0.03877 0.03932 m 0.07271 -0.108268 l -0.01186 -0.02856 m -0.04684 0.170219 h 0.05491 m -0.03016 -0.07272 l -0.01293 -0.0054 m 0.01293 -0.04956 v 0.05495 m 0.02223 -0.09743 a 0.122518 0.122558 0 0 0 -0.03389 0.01401 m 0.03389 -0.01401 c 0 -0.01185 -0.000275 -0.0236 -0.000575 -0.03534 m -0.02165 0.07782 l -0.01293 0.0027 m 0.0011 -0.03125 l 0.01184 0.02855 m -0.0363 -0.05379 c 0.0082 0.0084 0.01643 0.0168 0.02467 0.02531 m 0.04557 0.01447 l 0.01129 -0.007 m 0.02748 0.04633 l -0.03877 -0.03932 m 0.03877 0.03932 l 0.0054 -0.01347 m 0.04954 0.01347 h -0.05491 m 0.05491 0 l -0.0021 -0.01347 m -0.164376 0.08241 l -0.02855 0.01185 m 0.02855 -0.01185 l -0.0075 -0.01131 m 0.216845 -0.03583 c 0.01184 -0.000274 0.02358 -0.000323 0.03532 -0.000485 m -0.06424 0.01262 l 0.02906 -0.01238 m -0.02906 0.01238 l 0.0075 0.01077 m -0.04629 0.02801 l 0.03877 -0.03879 m -0.208977 0.04663 a 0.122518 0.122558 0 0 0 0.01399 0.03388 m -0.01399 -0.03388 c -0.01186 0.000274 -0.02361 0.000324 -0.03532 0.000486 m 0.07791 0.0213 l 0.0026 0.01347 m -0.03113 -0.0016 l 0.02855 -0.01184 m -0.0539 0.03677 c 0.0084 -0.0082 0.0168 -0.01643 0.02533 -0.02467 m 0.168026 0.04177 l -0.01184 -0.02855 m 0.03665 0.05381 c -0.0082 -0.0084 -0.01643 -0.0168 -0.02467 -0.02531 m -0.01198 -0.08343 l 0.01344 0.0054 m -0.01344 0.04956 v -0.05494 m 0 0.05494 l 0.01344 -0.0027 m -0.03535 0.04521 c 0 0.01185 0.000275 0.02359 0.000574 0.03533 m -0.01261 -0.06384 l 0.01186 0.02856 m 0.101229 -0.206847 l -0.05654 0.02317 m 0.08041 0.03482 a 0.15713 0.157181 0 0 0 -0.02403 -0.0581 m -0.03268 0.08145 l 0.05654 -0.02316 m -0.0894 0.05656 l 0.03285 -0.03339 m -0.03285 0.08026 v -0.04688 m 0.02318 0.103423 l -0.02318 -0.05656 m -0.03489 0.08054 a 0.15713 0.157181 0 0 0 0.0581 -0.02403 m -0.08136 -0.03281 l 0.02318 0.05709 m -0.103412 -0.08995 h 0.04687 m -0.103384 0.02316 l 0.05651 -0.02316 m -0.08059 -0.0348 a 0.15713 0.157181 0 0 0 0.02401 0.05809 m 0.03237 -0.08147 l -0.05654 0.02317 m 0.08992 -0.05656 l -0.03336 0.03339 m 0.03336 -0.08026 v 0.04687 m -0.02315 -0.103424 l 0.02315 0.05656 m 0.03469 -0.08052 a 0.15713 0.157181 0 0 0 -0.05807 0.02403 m 0.08153 0.03279 l -0.02369 -0.05656 m 0.05654 0.08942 l -0.03285 -0.03286 m 0.08024 0.03286 h -0.04738 m -0.0533 0.129277 l 0.03337 0.03286 m 0.01077 -0.007 l -0.01077 0.007 m -0.028 -0.04633 l 0.03877 0.03932 m -0.03877 -0.03932 l -0.0054 0.01347 m 0.262513 -0.06463 a 0.2357 0.235776 0 1 0 -0.471399 0 a 0.2357 0.235776 0 1 0 0.471399 0 Z"

    var outlet = makerjs.importer.fromSVGPathData(pathData);
    

    return outlet
}

// var model1 = new outlets();
// var model2 = new outlets();
// var model3 = new outlets();
// var model4 = new outlets();
// var model5 = new outlets();
// var model6 = new outlets();

// model2.origin = [48, 0]
// model3.origin = [96, 0]
// model4.origin = [144, 0]
// model5.origin = [192, 0]
// model6.origin = [240, 0]

var legend = makerjs.importer.fromSVGPathData(legendPath);

//var all = {
//    models: { model1, model2, model3, model4, model5, model6 }
//}

//makerjs.model.scale(all, 10)
//makerjs.model.scale(model)

var staticTextObjects = {
    "drawingNumberText":{
        "id":"drawing-number",
        "xCoord":"2",
        "yCoord":"9",
        "fontSize":"6",
        "text":"DWG NO:"
    },
    "materialText":{
        "id":"material",
        "xCoord":"1139",
        "yCoord":"932",
        "fontSize":"6",
        "text":"MATERIAL"
    },
    "blankSizeText":{
        "id":"blank-size",
        "xCoord":"1363",
        "yCoord":"932",
        "fontSize":"6",
        "text":"BLANK SIZE"
    },
    "drawnByText":{
        "id":"drawn-by",
        "xCoord":"999",
        "yCoord":"992",
        "fontSize":"6",
        "text":"DRAWN BY"
    },
    "approvedByText":{
        "id":"approved-by",
        "xCoord":"999",
        "yCoord":"1011",
        "fontSize":"6",
        "text":"APPROVED BY"
    },
    "dateDrawnByText":{
        "id":"date-drawn-by",
        "xCoord":"1076",
        "yCoord":"992",
        "fontSize":"6",
        "text":"DATE"
    },
    "dateApprovedByText":{
        "id":"date-approved-by",
        "xCoord":"1076",
        "yCoord":"1011",
        "fontSize":"6",
        "text":"DATE"
    },
    "departmentText":{
        "id":"departmemnt",
        "xCoord":"1139",
        "yCoord":"1011",
        "fontSize":"6",
        "text":"DEPARTMENT"
    },
    "surfaceAreaText":{
        "id":"surface-area",
        "xCoord":"1384",
        "yCoord":"1011",
        "fontSize":"6",
        "text":"SURFACE AREA (IN^2)"
    },
    "weightText":{
        "id":"weight",
        "xCoord":"1461",
        "yCoord":"1011",
        "fontSize":"6",
        "text":"WEIGHT (LBS)"
    },
    "sizeText":{
        "id":"size",
        "xCoord":"1139",
        "yCoord":"959",
        "fontSize":"6",
        "text":"SIZE"
    },
    "partDescriptionText":{
        "id":"part-description",
        "xCoord":"1179",
        "yCoord":"959",
        "fontSize":"6",
        "text":"PART DESC."
    },
    "revisionText":{
        "id":"revision",
        "xCoord":"1529",
        "yCoord":"959",
        "fontSize":"6",
        "text":"REV"
    },
    "addressStreet":{
        "id":"address-street",
        "xCoord":"1000",
        "yCoord":"963",
        "fontSize":"8",
        "text":"3935 Westinghouse Blvd"
    },
    "addressCityStatePhone":{
        "id":"address-city-state-phone",
        "xCoord":"1000",
        "yCoord":"972",
        "fontSize":"8",
        "text":"Charlotte, NC 28273   704-504-8399"
    },
    "websiteURL":{
        "id":"website-url",
        "xCoord":"1000",
        "yCoord":"981",
        "fontSize":"8",
        "text":"www.thelightsource.com"
    },
    "unlessTitleOneText":{
        "id":"unless-title-one",
        "xCoord":"880",
        "yCoord":"955",
        "fontSize":"6.25",
        "text":"UNLESS OTHERWISE SPECIFIED:",
        "fontWeight": "800"
    },
    "unlessTitleTwoText":{
        "id":"unless-title-two",
        "xCoord":"880",
        "yCoord":"963",
        "fontSize":"6.25",
        "text":"DIMENSIONS ARE IN INCHES",
        "fontWeight": "800"
    },
    "UnlessBodyOneText":{
        "id":"unless-body-one",
        "xCoord":"880",
        "yCoord":"975",
        "fontSize":"7.25",
        "text":"TOLERANCES:"
    },
    "UnlessBodyTwoText":{
        "id":"unless-body-two",
        "xCoord":"880",
        "yCoord":"984",
        "fontSize":"7.25",
        "text":"FRACTIONAL &#177 1/32\""
    },
    "UnlessBodyThreeText":{
        "id":"unless-body-three",
        "xCoord":"880",
        "yCoord":"993",
        "fontSize":"7.25",
        "text":"ANGULAR: MACH &#177 0.1&#186 /"
    },
    "UnlessBodyFourText":{
        "id":"unless-body-four",
        "xCoord":"880",
        "yCoord":"1002",
        "fontSize":"7.25",
        "text":"BEND &#177 1.0&#186"
    },
    "UnlessBodyFiveText":{
        "id":"unless-body-five",
        "xCoord":"880",
        "yCoord":"1011",
        "fontSize":"7.25",
        "text":"X.X &nbsp;&nbsp;&nbsp;  &#177 0.030 &nbsp;&nbsp;  X.XXX &nbsp; &#177 0.005"
    },
    "UnlessBodySixText":{
        "id":"unless-body-six",
        "xCoord":"880",
        "yCoord":"1020",
        "fontSize":"7.25",
        "text":"X.XX &nbsp; &#177 0.015 &nbsp;&nbsp;  X.XXX &nbsp; &#177 0.0005"
    },
    "proprietaryConfidntialTitleText":{
        "id":"proprietary-confidential",
        "xCoord":"767",
        "yCoord":"966.5",
        "fontSize":"5.5",
        "text":"PROPRIETARY AND CONFIDENTIAL",
        "fontWeight": "800"
    },
    "proprietaryConfidntialBodyOneText":{
        "id":"proprietary-body-one",
        "xCoord":"766",
        "yCoord":"978",
        "fontSize":"5.5",
        "text":"THE INFORMATION CONTAINED IN THIS"        
    },
    "proprietaryConfidntialBodyTwoText":{
        "id":"proprietary-body-two",
        "xCoord":"766",
        "yCoord":"986",
        "fontSize":"5.5",
        "text":"DRAWING IS THE SOLE PROPERTY OF"        
    },
    "proprietaryConfidntialBodyThreeText":{
        "id":"proprietary-body-three",
        "xCoord":"766",
        "yCoord":"994",
        "fontSize":"5.5",
        "text":"THE LIGHT SOURCE, INC. ANY REPRO-"        
    },
    "proprietaryConfidntialBodyFourText":{
        "id":"proprietary-body-four",
        "xCoord":"766",
        "yCoord":"1002",
        "fontSize":"5.5",
        "text":"DUCTION IN PART OR AS A WHOLE"        
    },
    "proprietaryConfidntialBodyFiveText":{
        "id":"proprietary-body-five",
        "xCoord":"766",
        "yCoord":"1010",
        "fontSize":"5.5",
        "text":"WITHOUT THE WRITTEN PERMISSION OF"        
    },
    "proprietaryConfidntialBodySixText":{
        "id":"proprietary-body-six",
        "xCoord":"766",
        "yCoord":"1018",
        "fontSize":"5.5",
        "text":"THE LIGHT SOURCE, INC. IS PROHIBITED."        
    },

}

// plus minus speacial character code:   &#177
// degree speacial character code:       &#186

const svgSelector = "#view-svg-container > svg"

const textElement = (id, x, y, fontSize, text, weight) => {
    if (weight != null) {
        return `<text id=${id} x=${x} y=${y} fill="black" font-size=${fontSize} font-family="arial" font-weight=${weight}>${text}</text>`
    } else {
        return `<text id=${id} x=${x} y=${y} fill="black" font-size=${fontSize} font-family="arial">${text}</text>`
    }

    
}

// create svg element for page
const svg = makerjs.exporter.toSVG(legend);

// set element on page to svg
document.getElementById('view-svg-container').innerHTML = svg;

// create all text elements
createTextElements(staticTextObjects, svgSelector)

// enable click coord function for development
document.querySelector(svgSelector).setAttribute("onclick", "clicked(evt)")

//////////////////////////////////////////////////////////////////
// ------------------------  functions ------------------------ //
//////////////////////////////////////////////////////////////////

/**
 * This function calculates the number of pipes 
 * and outlets needed from total length (in inches) requested.
 * It returns an object with segments by size 
 * and total outlets.
 * @param {number} length 
 * @returns object
 */
function getPipeData(length) {
    var pipes = { _96: 0, _48: 0, _32: 0, _16: 0, outlets: 0 }
    if (length % 16 === 0 && length >= 48 && length <= 1200) {
        var units = length / 16
        pipes.outlets = length / 16
        while (units > 0) {
            if (units >= 6) {
                pipes._96 += 1
                units -= 6
            } else if (units >= 3) {
                pipes._48 = 1
                units -= 3
            } else if (units >= 2) {
                pipes._32 = 1
                units -= 2
            } else if (units === 1) {
                pipes._16 = 1
                units = 0
            }
        }
        return pipes
    } else {
        pipes.error = "Length must be divisible by 16, >= to 48, and <= 1200"
        return pipes
    }
}

/**This function adds a click event alert that 
 * displays the x and y coords of the svg click location */
function clicked(evt){
    var e = evt.target;
    var dim = e.getBoundingClientRect();
    var x = evt.clientX - dim.left;
    var y = evt.clientY - dim.top;
    alert("x: "+x+" y:"+y);
}

/**
 * This function creates text elements on the svg based
 * on the data from the static text object
 * @param {Object} obj 
 * @param {String} selector 
 */
function createTextElements(obj, selector) {
    // get element to update
    const ele = document.querySelector(selector)
    // get keys from text object
    const staticText = Object.keys(staticTextObjects)
    // use keys to access propertie values for new text elements
    for (let i = 0; i < staticText.length; i++) {
        const textObject = obj[staticText[i]];
        ele.innerHTML += textElement(
            textObject.id,
            textObject.xCoord,
            textObject.yCoord,
            textObject.fontSize,
            textObject.text,
            textObject.fontWeight
        )
    }    
}